import subprocess, os

from settings import *

for path, dirs, files in os.walk(MALWARES_PATHS) :
    for file in files :
        md5 = os.path.splitext(file)[0]
        if os.path.exists(os.path.join(DECOMPILE_PATH, md5)) :
            continue
        command = "apktool.bat d -r -o \"{}\" \"{}\"".format(os.path.join(DECOMPILE_PATH, md5), os.path.join(path, file))
        try :
            subprocess.call(command, shell=True)
            print("{} is done".format(md5))
        except:
            pass

